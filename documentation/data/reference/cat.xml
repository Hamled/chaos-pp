<?xml version="1.0" encoding="UTF-8"?>
<header name="cat.h" root="..">
<abstract>
	The <self/> header defines basic concatenation macros.
</abstract>

<macro id="CAT" type="indirect">
	<derivative id="CAT_ID"/>
	<derivative id="CAT_" lang="C99"/>
	<derivative id="CAT_SHADOW">
		<usage lang="C99"><syntax><CAT_SHADOW/>(a, ...)</syntax></usage>
		<usage lang="C/C++"><syntax><CAT_SHADOW/>(a, b)</syntax></usage>
	</derivative>
	<abstract>
		The <CAT/> macro concatenates its arguments after they have been expanded.
	</abstract>
	<usage lang="C99">
		<syntax><CAT/>(a, ...)</syntax>
		<param id="a" optional="1">The left operand of the concatenation.</param>
		<param id="..." optional="1">The right operand of the concatenation.</param>
	</usage>
	<usage lang="C/C++">
		<syntax><CAT/>(a, b)</syntax>
		<param id="a">The left operand of the concatenation.</param>
		<param id="b">The right operand of the concatenation.</param>
	</usage>
	<para>
		This macro concatenates the rightmost preprocessing token of its first operand, <var>a</var>,
		with the leftmost preprocessing token of its second operand, <var>b</var> or <code>__VA_ARGS__</code>.
<snippet>
a ## __VA_ARGS__ // C99
a ## b           // C and C++
</snippet>
	</para>
	<para>
		This macro allows its arguments to expand on input.
		This macro's sibling, <PRIMITIVE_CAT/>, does <em>not</em> provide this delay.
	</para>
	<para>
		In C99, if both <var>a</var> and <code>__VA_ARGS__</code> are placemarkers, this macro expands to nothing.
		<snippet><CAT/>(,) // nothing</snippet>
	</para>
	<para>
		Similarly, if either <var>a</var> or <code>__VA_ARGS__</code> is a placemarker,
		and the other is not, this macro expands to the non-placemarker argument(s).
<snippet>
<CAT/>(123,)   // 123
<CAT/>(, a, b) // a, b
</snippet>
	</para>
<listing>
#include <cat.h/>

#define A 1
#define B 2

<CAT/>(A, B) // 12
</listing>
</macro>

<macro id="PRIMITIVE_CAT" type="indirect">
	<derivative id="PRIMITIVE_CAT_ID"/>
	<derivative id="PRIMITIVE_CAT_" lang="C99"/>
	<derivative id="PRIMITIVE_CAT_SHADOW">
		<usage lang="C99"><syntax><PRIMITIVE_CAT_SHADOW/>(a, ...)</syntax></usage>
		<usage lang="C/C++"><syntax><PRIMITIVE_CAT_SHADOW/>(a, b)</syntax></usage>
	</derivative>
	<abstract>
		The <PRIMITIVE_CAT/> macro concatenates its arguments before they are expanded.
	</abstract>
	<usage lang="C99">
		<syntax><PRIMITIVE_CAT/>(a, ...)</syntax>
		<param id="a" optional="1">The left operand of the concatenation.</param>
		<param id="..." optional="1">The right operand of the concatenation.</param>
	</usage>
	<usage lang="C/C++">
		<syntax><PRIMITIVE_CAT/>(a, b)</syntax>
		<param id="a">The left operand of the concatenation.</param>
		<param id="b">The right operand of the concatenation.</param>
	</usage>
	<para>
		This macro is identical to <CAT/> except that it does not allow
		its arguments to expand prior to concatenation.
	</para>
<listing>
#include <cat.h/>

#define A 1
#define B 2

<PRIMITIVE_CAT/>(A, B) // AB
<PRIMITIVE_CAT/>(1, 2) // 12
</listing>
</macro>

</header>
